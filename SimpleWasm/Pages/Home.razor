@page "/"
@inject ITokenService TokenService

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

<p>
    Welcome to your new app.
</p>

<button class="btn btn-primary" @onclick="GetToken">Get Token</button>
@if(this.token?.Length > 0)
{
    <p>
        @this.token
    </p>
}


@code {
    string? token;
    private async Task GetToken()
    {
        this.token = null;
        this.StateHasChanged();

        var accessToken = await this.TokenService.GetAccessTokenAsync(options: new GetTokenOptions { Prompt = Prompt.Select_Account });
        this.token = accessToken?.RawData;

        this.StateHasChanged();
    }
}